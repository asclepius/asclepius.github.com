<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>Bash Hack of the Week - METAR [asclepius.github.com]</title>

    <meta name="author" content="Paul Kulyk" />
    <meta name="publisher" content="Paul Kulyk" />
    <meta name="keywords" content="Paul Kulyk edus2 orthopaedic orthopedic surgeon" />
    <meta name="description" content="Paul Kulyk - Engineering Physicist and Orthopaedic Surgery Resident" />
    <link rel="stylesheet" href="/css/syntax.css" type="text/css" media="screen, projection, print" />
    <link rel="stylesheet" href="/css/screen.css" type="text/css" media="screen, projection, print" />
    <link rel="stylesheet" href="/css/font.css" type="text/css" media="screen, projection, print" />
    <link rel="alternate" type="application/atom+xml" title="Atom 1.0" href="http://feeds.feedburner.com/paulkulyk" />
    <!--[if lte IE 7]><script src="/javascripts/icomoon-lte-ie7.js"></script><![endif]-->

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js" type="text/javascript"></script>
    <script src="/javascripts/header.js" type="text/javascript"></script>
    <script src="/javascripts/post.js" type="text/javascript"></script>
    <script src="/javascripts/google_analytics.js" type="text/javascript"></script>
  </head>
  <body id="interior-page">
    <!--[if lt IE 9]><div style='clear: both; height: 59px; width=820px; position: relative;'> <a href="http://www.google.com/chrome"><img src="http://www.ie6countdown.com/images/upgrade.jpg" border="0" height="42" width="820" alt="It looks like you're trying to use the web. You should download a modern browser. Seriously." /></a></div><![endif]-->
    <div id="content-wrapper">

      <div id="header">
  <ul>
    <li>
      <a class="core-nav icon-quill-2" href="/blog" title="Paul Kulyk - Blog"></a>
    </li>
    <li>
      <a class="core-nav icon-feed" href="http://feeds.feedburner.com/paulkulyk" title="Paul Kulyk - Atom/RSS Feed"></a>
    </li>
    <li>
      <a class="core-nav icon-twitter" href="http://twitter.com/ve5pkx" title="Paul Kulyk - ve5pkx on Twitter"></a>
    </li>
    <li>
      <a class="core-nav icon-github" href="http://github.com/asclepius" title="Paul Kulyk - asclepius on GitHub"></a>
    </li>
    <li>
      <a class="core-nav icon-info-2" href="/about.html" title="Paul Kulyk - About"></a>
    </li>
    <li>
      <a class="core-nav icon-search" id="search-icon" href="#" title="Search asclepius.github.com"></a>
    </li>
  </ul>
  <div style="clear:both"></div>
  <div id="search">
    <form action="http://www.google.com/cse" id="cse-search-box" style="display:none;">
      <div>
        <input type="hidden" name="cx" value="001652393842387460493:oof-xpbgn7y" />
        <input type="hidden" name="ie" value="UTF-8" />
        <input type="text" name="q" width="100%"/>
        <input type="submit" name="sa" value="Search" />
      </div>
    </form>
    <script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
  </div>
</div>
<div style="clear:both"></div>
<div id="content">

  <div id="post">
  <h1><a href="/blog/2011/11/18/bash-hack-1/" title="Bash Hack of the Week - METAR [asclepius.github.com]">Bash Hack of the Week - METAR</a></h1>

  
    <span class="published_on">
      Published on Friday, November 18, 2011

      
        in
        
          
          <a href="#" class="tag">bash</a>, 
        
          
          <a href="#" class="tag">metar</a>, 
        
          
          <a href="#" class="tag">taf</a>, 
        
           and 
          <a href="#" class="tag">weather</a>
        
      
     </span>
   

  <p>I've got a ~/bin full of cheap bash hacks I have come up with over the years and I thought this would be a good forum to start sharing them.  Some of the more complex ones I might start commiting to github.</p>

<p>I cycle to and from work/school a lot and I like to know what the prairie winds are going to be doing.  If you know how to read metar/taf aviation weather reports it can be handy to have this information quickly available at the command line, or wrapped into a website, or in your bash prompt, etc.</p>

<p>Here's a simple script to get metar data for a given site:</p>

<pre><code>#!/bin/bash
# Usage &lt;this_file&gt; &lt;4 letter airport station id&gt;
STATION=`echo $1 | tr '[a-z]' '[A-Z]'`
TAF_REPO="http://weather.noaa.gov/pub/data/forecasts/taf/stations/"
METAR_REPO="http://weather.noaa.gov/pub/data/observations/metar/stations/"
REPO=$METAR_REPO
curl -s ${REPO}${STATION}.TXT | sed 1d
</code></pre>

<p>Copy this into a file called metar:</p>

<pre><code>cd ~/bin # or mkdir ~/bin &amp;&amp; cd ~/bin
cat &gt; metar #paste and finish with ctrl-D
</code></pre>

<p>Make it executable:</p>

<pre><code>chmod +x metar
</code></pre>

<p>Run it:</p>

<pre><code>./metar cyhz
</code></pre>

<p>That should spit out something like:</p>

<pre><code>CYHZ 181500Z 28014G25KT 15SM SCT028 02/M02 A2984 RMK SC3 SLP108   
</code></pre>

<p>You can make another file called taf, copy the code from metar into and change the REPO line.  This will give you a forecast.</p>

</div>

<hr />

<hr />

<div id="disqus">
  <a name="comments"></a>
  <div id="disqus_thread"></div><script type="text/javascript" src="http://disqus.com/forums/asclepiusgithub/embed.js"></script><noscript>Blog comments powered by Disqus. <a href="http://asclepiusgithub.disqus.com/?url=ref">View the discussion thread.</a></noscript>
</div>


</div>


      <div id="push"></div>
    </div>
    <div id="footer">
      <p id="contact-info"><a class="core-nav" href="mailto:paul.kulyk@gmail.com">paul.kulyk@gmail.com</a></p>
      <p id="copyright">
      <a class="core-nav icon-cc" rel="license" title="Some Rights Reserved â€” Creative Commons License" href="https://github.com/asclepius/asclepius.github.com/blob/master/README.markdown#license"></a>
      </p>
    </div>
  </body>
</html>
